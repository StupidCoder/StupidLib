uniform mediump vec4 u_baseColor;
uniform mediump vec3 u_light1Direction;
uniform mediump vec4 u_light1Color;
uniform mediump vec3 u_light2Direction;
uniform mediump vec4 u_light2Color;
varying mediump vec3 v_normal;
varying mediump vec2 v_texCoord;
uniform sampler2D s_texture;

void main()
{
  mediump vec4 light1 = max(0., dot(v_normal, normalize(u_light1Direction))) * u_light1Color;
  mediump vec4 light2 = max(0., dot(v_normal, normalize(u_light2Direction))) * u_light2Color;
  mediump vec4 color = u_baseColor * texture2D(s_texture, v_texCoord);
  gl_FragColor = color * light1 + color * light2 + vec4(0.2, 0.2, 0.2, 0.0);
}
